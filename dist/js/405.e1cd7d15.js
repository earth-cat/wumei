"use strict";(self["webpackChunkwumei"]=self["webpackChunkwumei"]||[]).push([[405],{1405:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"SystemMenu"},[t("el-card",{attrs:{id:"searchForm"}},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[t("el-form-item",{attrs:{label:"菜单名称"}},[t("el-input",{attrs:{size:"mini",placeholder:"请输入部门名称"},model:{value:e.form.menuName,callback:function(t){e.$set(e.form,"menuName",t)},expression:"form.menuName"}})],1),t("el-form-item",{attrs:{label:"状态"}},[t("el-select",{attrs:{placeholder:"请选择状态",size:"mini"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[t("el-option",{attrs:{label:"正常",value:"0"}}),t("el-option",{attrs:{label:"停用",value:"1"}})],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.search}},[e._v("搜索")]),t("el-button",{attrs:{icon:"el-icon-refresh",size:"mini",plain:""},nativeOn:{click:function(t){return e.reactBtn.apply(null,arguments)}}},[e._v("重置")])],1)],1),t("div",{staticClass:"openbox"},[t("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"info",plain:"",size:"mini",icon:"el-icon-sort"},on:{click:e.toggleRowExpansion}},[e._v(" 展开/折叠 ")])],1),e.refreshTable?t("el-table",{ref:"tableIns",staticStyle:{width:"78.5%","margin-bottom":"20px"},attrs:{data:e.tableData,"row-key":"menuId",border:"","tree-props":{children:"children",hasChildren:"hasChildren"},"default-expand-all":e.expands,lazy:""}},[t("el-table-column",{attrs:{prop:"menuName",label:"菜单名称",width:"160","show-overflow-tooltip":!0}}),t("el-table-column",{attrs:{prop:"orderNum",label:"排序",width:"60",align:"center"}}),t("el-table-column",{attrs:{prop:"component",label:"权限标识",width:"180",align:"center"}}),t("el-table-column",{attrs:{prop:"component",label:"组件路径",width:"180",align:"center"}}),t("el-table-column",{attrs:{prop:"status",label:"状态",width:"94",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:"0"===a.row.status?"primary":"danger","disable-transitions":""}},[e._v(e._s("0"===a.row.status?"正常":"停用"))])]}}],null,!1,662064387)}),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center",width:"200"}}),t("el-table-column",{attrs:{label:"操作",width:"110",align:"center"}})],1):e._e()],1)],1)},r=[],n={name:"SystemMenu",data(){return{tableData:[],tableLoading:!1,form:{menuName:"",status:""},value:"",expands:!1,refreshTable:!0}},methods:{search(){let e=this.form.menuName,t=this.form.status;this.init(e,t)},reactBtn(){this.form.menuName="",this.form.status="",this.init()},setTreeData(e){let t=JSON.parse(JSON.stringify(e));return t.filter((e=>{let a=t.filter((t=>e.menuId==t.parentId));return a.length>0&&(e.children=a),0==e.parentId}))},createTree(e,t=""){return e.filter((a=>{if(a.parentId===t)return a.children=this.createTree(e,a.menuId),!0}))},async init(e,t){this.tableLoading=!0;try{await this.$api.SystemMenu.sysNormalDisable();let{code:a,data:l,msg:r}=await this.$api.SystemMenu.clientList(e,t);200===+a?this.tableData=this.$options.methods.setTreeData(l):this.$message.error(r)}catch(a){}},toggleRowExpansion(){this.refreshTable=!1,this.expands=!this.expands,this.$nextTick((()=>{this.refreshTable=!0}))}},created(){this.init()}},i=n,s=a(1001),o=(0,s.Z)(i,l,r,!1,null,"faf2c14a",null),m=o.exports}}]);